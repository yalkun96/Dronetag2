{% extends 'dronetag/home.html' %}

{% block content %}

    <div class="container-fluid pt-4 px-4" id="map-container">
    <div class="bg-secondary rounded h-100 p-4">
        <div class="table-responsive">
            <table class="table">
                <thead>
                    <tr>
                        <th>Latency</th>
                        <th>Longitude </th>
                        <th>Latitude</th>
                        <th>Altitude</th>
                        <th>Cell ID</th>
                        <th>Average rsrp by cell</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{{ latency|safe }}</td>
                    </tr>
                        <td>{{  average_rsrp_by_cell }}</td>
                        {% if telemetry_data %}
                            <td>{{ telemetry_data.last.longitude }}</td>
                            <td>{{ telemetry_data.last.latitude }}</td>
                            <td>{{ telemetry_data.last.altitude }}</td>
                        {% else %}
                            <td>No telemetry data available</td>
                        {% endif %}
                        {% if status_data %}
                            <td>{{ status_data.last.cellid }}</td>
                        {% else %}
                        {% endif %}
                        <td>{{ average_rsrp_by_cell_last }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>




      <div class="container-fluid pt-4 px-4" id="map-container">
        <div class="row g-4">
            <div class="bg-secondary text-center rounded p-4">
                <p>Average Reference Signal Received Power of LTE in dBm: </p>
                    <div>{{ status_html|safe }}</div>
                <div class="bg-secondary rounded d-flex align-items-center p-4">
                    <i class="fa fa-chart-bar fa-3x text-primary" style="margin-right: 30px"></i>
                    <p>Average Reference Signal Received Power of LTE in dBm: {{ average_data_rsrp_last }}</p>
                </div>
                </div>
            </div>

            <!-- Display Average Altitude of the drone -->
            <div class="bg-secondary text-center rounded p-4">
                <p>Average Altitude of the Drone</p>
                <div class="">
                    <div>{{ telemetry_html|safe }}</div>
                </div>
                <div class="bg-secondary rounded d-flex align-items-center p-4">
                    <i class="fa fa-chart-bar fa-3x text-primary" style="margin-right: 30px"></i>
                    <p>Average Altitude: {{ average_data_altitude_last }}</p>
                </div>
            </div>

            <!-- Display Distribution of Status Arrival Frequency Intervals -->
            <div class="bg-secondary text-center rounded p-4">
                <p>Distribution of Status Arrival Frequency Intervals</p>
                <div class="">
                    <div>{{ status_interval_html|safe }}</div>
                </div>
            </div>

            <!-- Display Distribution of Telemetry Arrival Frequency Intervals -->
            <div class="bg-secondary text-center rounded p-4">
                <p>Distribution of Telemetry Arrival Frequency Intervals</p>
                <div class="">
                    <div>{{ telemetry_interval_html|safe }}</div>
                </div>
            </div>
        </div>


{% endblock %}
